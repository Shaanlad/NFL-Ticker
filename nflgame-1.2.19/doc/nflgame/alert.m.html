<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>nflgame.alert API documentation</title>
    <meta name="description" content="A module that provides convenience functions for sending alerts. Currently
this includes sending tex..." />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">
    <li class="set"><h3><a href="#header-variables">Module variables</a></h3>
      
  <ul>
    <li class="mono"><a href="#nflgame.alert.providers">providers</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-functions">Functions</a></h3>
      
  <ul>
    <li class="mono"><a href="#nflgame.alert.email">email</a></li>
    <li class="mono"><a href="#nflgame.alert.gmail_login">gmail_login</a></li>
    <li class="mono"><a href="#nflgame.alert.google_voice_login">google_voice_login</a></li>
    <li class="mono"><a href="#nflgame.alert.sms">sms</a></li>
    <li class="mono"><a href="#nflgame.alert.smtp_login">smtp_login</a></li>
  </ul>

    </li>


    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">nflgame.alert</span> module</h1>
  <p>A module that provides convenience functions for sending alerts. Currently
this includes sending text (SMS) messages or emails.</p>
<p>This is accomplished through two mechanisms: Google Voice B{or} SMTP.</p>
<h1>Using Google Voice</h1>
<p>To use Google Voice, this module requires a Google Voice account and depends on
pygooglevoice to access your Google Voice account.</p>
<p>You can sign up for a Google Voice account at
U{voice.google.com<a href="http://voice.google.com">http://voice.google.com</a>}.</p>
<p>pygooglevoice is in PyPI but unfortunately is not configured properly. You'll
have to download the source and run::</p>
<div class="codehilite"><pre>sudo python2 setup.py install
</pre></div>


<p>in the directory containing setup.py. You can download pygooglevoice at
U{code.google.com/p/pygooglevoice
<a href="http://code.google.com/p/pygooglevoice/downloads/list/">http://code.google.com/p/pygooglevoice/downloads/list/</a>}.</p>
<p>A quick example of sending an SMS message with Google Voice::</p>
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">nflgame.alert</span>
<span class="n">nflgame</span><span class="o">.</span><span class="n">alert</span><span class="o">.</span><span class="n">google_voice_login</span><span class="p">(</span><span class="s">&#39;YOUR GMAIL ADDRESS&#39;</span><span class="p">,</span> <span class="s">&#39;YOUR PASSWORD&#39;</span><span class="p">)</span>
<span class="n">nflgame</span><span class="o">.</span><span class="n">alert</span><span class="o">.</span><span class="n">sms</span><span class="p">(</span><span class="s">&#39;1112223333&#39;</span><span class="p">,</span> <span class="s">&#39;This is a text message!&#39;</span><span class="p">)</span>
</pre></div>


<p>If you don't have a Google Voice account or don't want to install a third
party library, you can still use this module but the C{google_voice_login}
function will not work.</p>
<p>The disadvantage of using Google Voice is that it limits text messages. Since
you'll probably be using this module to send a fair number of alerts, this
might be prohibitive.</p>
<h1>Using SMTP</h1>
<p>SMTP can be used to send SMS messages or emails. For sending SMS messages,
the SMTP approach requires that you know the provider of the recipient's
cell phone (i.e., Verizon, Sprint, T-Mobile). Although this is a burden,
sending SMS messages through email doesn't seem to be as vigorously rate
limited as Google Voice is.</p>
<p>To send an SMS message using your GMail account::</p>
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">nflgame.alert</span>
<span class="n">nflgame</span><span class="o">.</span><span class="n">alert</span><span class="o">.</span><span class="n">gmail_login</span><span class="p">(</span><span class="s">&#39;YOUR GMAIL ADDRESS&#39;</span><span class="p">,</span> <span class="s">&#39;YOUR PASSWORD&#39;</span><span class="p">)</span>
<span class="n">nflgame</span><span class="o">.</span><span class="n">alert</span><span class="o">.</span><span class="n">sms</span><span class="p">(</span><span class="s">&#39;1112223333&#39;</span><span class="p">,</span> <span class="s">&#39;Test message&#39;</span><span class="p">,</span> <span class="n">provider</span><span class="o">=</span><span class="s">&#39;Verizon&#39;</span><span class="p">)</span>
</pre></div>


<p>In this case, the C{provider} parameter is required.</p>
<p>Similarly, you can send email alerts with your GMail account::</p>
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">nflgame.alert</span>
<span class="n">nflgame</span><span class="o">.</span><span class="n">alert</span><span class="o">.</span><span class="n">gmail_login</span><span class="p">(</span><span class="s">&#39;YOUR GMAIL ADDRESS&#39;</span><span class="p">,</span> <span class="s">&#39;YOUR PASSWORD&#39;</span><span class="p">)</span>
<span class="n">nflgame</span><span class="o">.</span><span class="n">alert</span><span class="o">.</span><span class="n">email</span><span class="p">(</span><span class="s">&#39;somewhere@someplace.com&#39;</span><span class="p">,</span> <span class="s">&#39;Email message&#39;</span><span class="p">)</span>
</pre></div>


<p>Once you login to GMail using C{gmail_login}, you may send both text messages
and emails. You may be logged into Google Voice and GMail at the same time.</p>
<h2>Using SMTP without GMail</h2>
<p>You may use SMTP servers that aren't GMail by using C{smtp_login}. In fact,
C{gmail_login} is a special case of C{smtp_login}::</p>
<div class="codehilite"><pre>def gmail_login(email, passwd):
    def connect():
        gmail = smtplib.SMTP(&#39;smtp.gmail.com&#39;, port=587)
        gmail.starttls()
        return gmail

    smtp_login(email, passwd, connect)
</pre></div>


<p>The connection setup must be provided as a function because it will
typically need to be reused in a long running program. (i.e., If you don't
send an alert for a while, you'll probably be disconnected from the SMTP
server. In which case, the connection setup will be executed again.)</p>
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.alert', this);">Show source &equiv;</a></p>
  <div id="source-nflgame.alert" class="source">
    <div class="codehilite"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">A module that provides convenience functions for sending alerts. Currently</span>
<span class="sd">this includes sending text (SMS) messages or emails.</span>

<span class="sd">This is accomplished through two mechanisms: Google Voice B{or} SMTP.</span>

<span class="sd">Using Google Voice</span>
<span class="sd">==================</span>
<span class="sd">To use Google Voice, this module requires a Google Voice account and depends on</span>
<span class="sd">pygooglevoice to access your Google Voice account.</span>

<span class="sd">You can sign up for a Google Voice account at</span>
<span class="sd">U{voice.google.com&lt;http://voice.google.com&gt;}.</span>

<span class="sd">pygooglevoice is in PyPI but unfortunately is not configured properly. You&#39;ll</span>
<span class="sd">have to download the source and run::</span>

<span class="sd">    sudo python2 setup.py install</span>

<span class="sd">in the directory containing setup.py. You can download pygooglevoice at</span>
<span class="sd">U{code.google.com/p/pygooglevoice</span>
<span class="sd">&lt;http://code.google.com/p/pygooglevoice/downloads/list/&gt;}.</span>

<span class="sd">A quick example of sending an SMS message with Google Voice::</span>

<span class="sd">    import nflgame.alert</span>
<span class="sd">    nflgame.alert.google_voice_login(&#39;YOUR GMAIL ADDRESS&#39;, &#39;YOUR PASSWORD&#39;)</span>
<span class="sd">    nflgame.alert.sms(&#39;1112223333&#39;, &#39;This is a text message!&#39;)</span>

<span class="sd">If you don&#39;t have a Google Voice account or don&#39;t want to install a third</span>
<span class="sd">party library, you can still use this module but the C{google_voice_login}</span>
<span class="sd">function will not work.</span>

<span class="sd">The disadvantage of using Google Voice is that it limits text messages. Since</span>
<span class="sd">you&#39;ll probably be using this module to send a fair number of alerts, this</span>
<span class="sd">might be prohibitive.</span>

<span class="sd">Using SMTP</span>
<span class="sd">==========</span>
<span class="sd">SMTP can be used to send SMS messages or emails. For sending SMS messages,</span>
<span class="sd">the SMTP approach requires that you know the provider of the recipient&#39;s</span>
<span class="sd">cell phone (i.e., Verizon, Sprint, T-Mobile). Although this is a burden,</span>
<span class="sd">sending SMS messages through email doesn&#39;t seem to be as vigorously rate</span>
<span class="sd">limited as Google Voice is.</span>

<span class="sd">To send an SMS message using your GMail account::</span>

<span class="sd">    import nflgame.alert</span>
<span class="sd">    nflgame.alert.gmail_login(&#39;YOUR GMAIL ADDRESS&#39;, &#39;YOUR PASSWORD&#39;)</span>
<span class="sd">    nflgame.alert.sms(&#39;1112223333&#39;, &#39;Test message&#39;, provider=&#39;Verizon&#39;)</span>

<span class="sd">In this case, the C{provider} parameter is required.</span>

<span class="sd">Similarly, you can send email alerts with your GMail account::</span>

<span class="sd">    import nflgame.alert</span>
<span class="sd">    nflgame.alert.gmail_login(&#39;YOUR GMAIL ADDRESS&#39;, &#39;YOUR PASSWORD&#39;)</span>
<span class="sd">    nflgame.alert.email(&#39;somewhere@someplace.com&#39;, &#39;Email message&#39;)</span>

<span class="sd">Once you login to GMail using C{gmail_login}, you may send both text messages</span>
<span class="sd">and emails. You may be logged into Google Voice and GMail at the same time.</span>

<span class="sd">Using SMTP without GMail</span>
<span class="sd">------------------------</span>
<span class="sd">You may use SMTP servers that aren&#39;t GMail by using C{smtp_login}. In fact,</span>
<span class="sd">C{gmail_login} is a special case of C{smtp_login}::</span>

<span class="sd">    def gmail_login(email, passwd):</span>
<span class="sd">        def connect():</span>
<span class="sd">            gmail = smtplib.SMTP(&#39;smtp.gmail.com&#39;, port=587)</span>
<span class="sd">            gmail.starttls()</span>
<span class="sd">            return gmail</span>

<span class="sd">        smtp_login(email, passwd, connect)</span>

<span class="sd">The connection setup must be provided as a function because it will</span>
<span class="sd">typically need to be reused in a long running program. (i.e., If you don&#39;t</span>
<span class="sd">send an alert for a while, you&#39;ll probably be disconnected from the SMTP</span>
<span class="sd">server. In which case, the connection setup will be executed again.)</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">smtplib</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">googlevoice</span>
    <span class="n">_gv_available</span> <span class="o">=</span> <span class="bp">True</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">_gv_available</span> <span class="o">=</span> <span class="bp">False</span>

<span class="n">_voice</span> <span class="o">=</span> <span class="bp">None</span>
<span class="sd">&quot;&quot;&quot;Store the googlevoice.Voice instance.&quot;&quot;&quot;</span>

<span class="n">_smtp</span> <span class="o">=</span> <span class="bp">None</span>
<span class="sd">&quot;&quot;&quot;Store the smptplib.SMTP session instance.&quot;&quot;&quot;</span>

<span class="n">_email_from</span> <span class="o">=</span> <span class="bp">None</span>
<span class="sd">&quot;&quot;&quot;Stores the login email address for use in the &#39;from&#39; field.&quot;&quot;&quot;</span>

<span class="n">_smtp_connect</span> <span class="o">=</span> <span class="bp">None</span>
<span class="sd">&quot;&quot;&quot;A function that will (re)connect and login&quot;&quot;&quot;</span>


<span class="k">def</span> <span class="nf">google_voice_login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs into your Google Voice account with your full email address</span>
<span class="sd">    (i.e., &#39;something@gmail.com&#39;) and password. This MUST be called before</span>
<span class="sd">    using send without the provider parameter.</span>
<span class="sd">    login only needs to be called once per program execution.</span>

<span class="sd">    Note that your Google Voice login information is probably the same as your</span>
<span class="sd">    gmail login information. Please be careful with your login credentials!</span>
<span class="sd">    (It is not a bad idea to setup an entirely separate Google Voice account</span>
<span class="sd">    just for sending SMS.)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_voice</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">_gv_available</span><span class="p">:</span>
        <span class="k">print</span> <span class="o">&gt;&gt;</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;The pygooglevoice Python package is required &quot;</span> \
                             <span class="s">&quot;in order to use Google Voice.&quot;</span>
        <span class="k">return</span>

    <span class="n">_voice</span> <span class="o">=</span> <span class="n">googlevoice</span><span class="o">.</span><span class="n">Voice</span><span class="p">()</span>
    <span class="n">_voice</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">smtp_login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">,</span> <span class="n">connectfun</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs into an SMTP mail server. connectfun should be a function that</span>
<span class="sd">    takes no parameters and returns an smtplib.SMTP instance that is ready</span>
<span class="sd">    to be logged into. (See the source of gmail_login for an example.)</span>

<span class="sd">    username and passwd are then used to log into that smtplib.SMTP instance.</span>

<span class="sd">    connectfun may be called again automatically if the SMTP connection</span>
<span class="sd">    is broken during program execution.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_email_from</span><span class="p">,</span> <span class="n">_smtp</span><span class="p">,</span> <span class="n">_smtp_connect</span>

    <span class="k">def</span> <span class="nf">connect</span><span class="p">():</span>
        <span class="n">smtp</span> <span class="o">=</span> <span class="n">connectfun</span><span class="p">()</span>
        <span class="n">smtp</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">smtp</span>

    <span class="n">_email_from</span> <span class="o">=</span> <span class="n">email</span>
    <span class="n">_smtp_connect</span> <span class="o">=</span> <span class="n">connect</span>
    <span class="n">_smtp</span> <span class="o">=</span> <span class="n">_smtp_connect</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">gmail_login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs into your GMail account with your full email address</span>
<span class="sd">    (i.e., &#39;something@gmail.com&#39;) and password. gmail_login MUST be called</span>
<span class="sd">    before using sms with the provider parameter. It only needs to be called</span>
<span class="sd">    once per program execution.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">connect</span><span class="p">():</span>
        <span class="n">gmail</span> <span class="o">=</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s">&#39;smtp.gmail.com&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">587</span><span class="p">)</span>
        <span class="n">gmail</span><span class="o">.</span><span class="n">starttls</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">gmail</span>

    <span class="n">smtp_login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">,</span> <span class="n">connect</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">email</span><span class="p">(</span><span class="n">to_email</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">from_email</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sends an email to to_email with a message containing msg.</span>

<span class="sd">    from_email is an optional parameter that specifies the &#39;from&#39;</span>
<span class="sd">    email address. If gmail_login was used, this is automatically</span>
<span class="sd">    populated using the login email address. Otherwise it is left empty.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">_smtp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">,</span> \
        <span class="s">&quot;Either gmail_login or smtp_login must be called to setup an &quot;</span> \
        <span class="s">&quot;smtplib.SMTP instance.&quot;</span>

    <span class="n">from_email_</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="k">if</span> <span class="n">from_email</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">from_email_</span> <span class="o">=</span> <span class="n">from_email</span>
    <span class="k">elif</span> <span class="n">_email_from</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">from_email_</span> <span class="o">=</span> <span class="n">_email_from</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">&#39;To: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">to_email</span><span class="p">,</span>
        <span class="s">&#39;From: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">from_email_</span><span class="p">,</span>
        <span class="s">&#39;Subject: nflgame alert&#39;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">full_msg</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="se">\r\n\r\n</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="s">&#39;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">headers</span><span class="p">),</span> <span class="n">msg</span><span class="p">)</span>
    <span class="n">_send_email</span><span class="p">(</span><span class="n">from_email_</span><span class="p">,</span> <span class="n">to_email</span><span class="p">,</span> <span class="n">full_msg</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">sms</span><span class="p">(</span><span class="n">phone_number</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">provider</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sends an SMS message to phone_number (which should be a string) with</span>
<span class="sd">    a message containing msg.</span>

<span class="sd">    If you&#39;re using Google Voice to send SMS messages, google_voice_login</span>
<span class="sd">    MUST be called before sms can be called. google_voice_login only needs to</span>
<span class="sd">    be called once per program execution.</span>

<span class="sd">    The provider parameter can be used to send SMS messages via email. It</span>
<span class="sd">    is necessary because SMS messages are sent by sending a message to</span>
<span class="sd">    an email like &#39;111222333@vtext.com&#39; or &#39;1112223333@txt.att.net&#39;. Thus,</span>
<span class="sd">    each phone number must be paired with a provider.</span>

<span class="sd">    A provider can be specified either as a carrier name (i.e., &#39;Verizon&#39; or</span>
<span class="sd">    &#39;ATT&#39;), or as simply the domain (i.e., &#39;vtext.com&#39; or &#39;txt.att.net&#39;).</span>
<span class="sd">    Supported providers are in the module level providers variable. Please</span>
<span class="sd">    feel free to add to it and submit a pull request.</span>

<span class="sd">    The provider parameter is not currently used, but is anticipated if this</span>
<span class="sd">    module provides a way to send SMS messages via emails. A provider will be</span>
<span class="sd">    required to look up the email domain. (i.e., for Verizon it&#39;s &#39;vtext.com&#39;.)</span>

<span class="sd">    Note that these are SMS messages, and each SMS message is limited to</span>
<span class="sd">    160 characters. If msg is longer than that and you&#39;re using Google Voice,</span>
<span class="sd">    it will be broken up into multiple SMS messages (hopefully). Otherwise,</span>
<span class="sd">    if you&#39;re sending SMS messages via email, the behavior will vary</span>
<span class="sd">    depending upon your carrier.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">provider</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">_voice</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">,</span> \
            <span class="s">&#39;You must login to Google Voice using google_voice_login before &#39;</span> \
            <span class="s">&#39;sending an sms without the provider parameter.&#39;</span>
    <span class="k">if</span> <span class="n">provider</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">_smtp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">,</span> \
            <span class="s">&#39;You must login to an SMTP server using gmail_login or by &#39;</span> \
            <span class="s">&#39;passing an smtplib.SMTP instance via the smtp parameter&#39;</span> \
            <span class="s">&#39;before sending an sms with the provider parameter.&#39;</span>

    <span class="k">if</span> <span class="n">provider</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">_google_voice_sms</span><span class="p">(</span><span class="n">phone_number</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">to</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">@</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">phone_number</span><span class="p">,</span> <span class="n">providers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="n">provider</span><span class="p">))</span>
        <span class="n">_send_email</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">to</span><span class="p">,</span> <span class="s">&#39;To: </span><span class="si">%s</span><span class="se">\r\n\r\n</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">to</span><span class="p">,</span> <span class="n">msg</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">_google_voice_sms</span><span class="p">(</span><span class="n">phone_number</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sends an SMS message to phone_number (which should be a string) with</span>
<span class="sd">    a message containing msg.</span>

<span class="sd">    google_voice_login MUST be called before _google_voice_sms can be called.</span>
<span class="sd">    google_voice_login only needs to be called once per program execution.</span>

<span class="sd">    Note that these are SMS messages, and each SMS message is limited to</span>
<span class="sd">    160 characters. If msg is longer than that, it will be broken up into</span>
<span class="sd">    multiple SMS messages.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">_voice</span><span class="o">.</span><span class="n">send_sms</span><span class="p">(</span><span class="n">phone_number</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">googlevoice</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">:</span>
        <span class="c"># I seem to be getting these but the text messages still go</span>
        <span class="c"># through (eventually).</span>
        <span class="k">pass</span>


<span class="k">def</span> <span class="nf">_send_email</span><span class="p">(</span><span class="n">from_email</span><span class="p">,</span> <span class="n">to_email</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sends an email using nflgame.alert._smtp. It handles a connection that has</span>
<span class="sd">    been disconnected, and reconnects.</span>

<span class="sd">    Note that this only works if smtp_login (or gmail_login) was used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_smtp</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">_smtp</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span><span class="n">from_email</span><span class="p">,</span> <span class="n">to_email</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTPServerDisconnected</span><span class="p">:</span>
        <span class="n">_smtp</span> <span class="o">=</span> <span class="n">_smtp_connect</span><span class="p">()</span>
        <span class="n">_smtp</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span><span class="n">from_email</span><span class="p">,</span> <span class="n">to_email</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>


<span class="n">providers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;ATT&#39;</span><span class="p">:</span> <span class="s">&#39;txt.att.net&#39;</span><span class="p">,</span>
    <span class="s">&#39;Boost&#39;</span><span class="p">:</span> <span class="s">&#39;myboostmobile.com&#39;</span><span class="p">,</span>
    <span class="s">&#39;Cricket&#39;</span><span class="p">:</span> <span class="s">&#39;sms.mycricket.com&#39;</span><span class="p">,</span>
    <span class="s">&#39;Sprint&#39;</span><span class="p">:</span> <span class="s">&#39;messaging.sprintpcs.com&#39;</span><span class="p">,</span>
    <span class="s">&#39;T-Mobile&#39;</span><span class="p">:</span> <span class="s">&#39;tmomail.net&#39;</span><span class="p">,</span>
    <span class="s">&#39;Verizon&#39;</span><span class="p">:</span> <span class="s">&#39;vtext.com&#39;</span><span class="p">,</span>
    <span class="s">&#39;Virgin Mobile&#39;</span><span class="p">:</span> <span class="s">&#39;vmobl.com&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">A dictionary of providers. The keys are English name identifiers of a</span>
<span class="sd">SMS provider. The values are domain suffixes that come after the</span>
<span class="sd">&#39;@&#39; symbol in an email address.</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">
    <h2 class="section-title" id="header-variables">Module variables</h2>
      <div class="item">
      <p id="nflgame.alert.providers" class="name">var <span class="ident">providers</span></p>
      
  
    <div class="desc"><p>A dictionary of providers. The keys are English name identifiers of a
SMS provider. The values are domain suffixes that come after the
'@' symbol in an email address.</p></div>
  <div class="source_cont">
</div>

      </div>

    <h2 class="section-title" id="header-functions">Functions</h2>
      
  <div class="item">
    <div class="name def" id="nflgame.alert.email">
    <p>def <span class="ident">email</span>(</p><p>to_email, msg, from_email=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Sends an email to to_email with a message containing msg.</p>
<p>from_email is an optional parameter that specifies the 'from'
email address. If gmail_login was used, this is automatically
populated using the login email address. Otherwise it is left empty.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.alert.email', this);">Show source &equiv;</a></p>
  <div id="source-nflgame.alert.email" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">email</span><span class="p">(</span><span class="n">to_email</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">from_email</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sends an email to to_email with a message containing msg.</span>

<span class="sd">    from_email is an optional parameter that specifies the &#39;from&#39;</span>
<span class="sd">    email address. If gmail_login was used, this is automatically</span>
<span class="sd">    populated using the login email address. Otherwise it is left empty.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">_smtp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">,</span> \
        <span class="s">&quot;Either gmail_login or smtp_login must be called to setup an &quot;</span> \
        <span class="s">&quot;smtplib.SMTP instance.&quot;</span>

    <span class="n">from_email_</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="k">if</span> <span class="n">from_email</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">from_email_</span> <span class="o">=</span> <span class="n">from_email</span>
    <span class="k">elif</span> <span class="n">_email_from</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">from_email_</span> <span class="o">=</span> <span class="n">_email_from</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">&#39;To: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">to_email</span><span class="p">,</span>
        <span class="s">&#39;From: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">from_email_</span><span class="p">,</span>
        <span class="s">&#39;Subject: nflgame alert&#39;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">full_msg</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="se">\r\n\r\n</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="s">&#39;</span><span class="se">\r\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">headers</span><span class="p">),</span> <span class="n">msg</span><span class="p">)</span>
    <span class="n">_send_email</span><span class="p">(</span><span class="n">from_email_</span><span class="p">,</span> <span class="n">to_email</span><span class="p">,</span> <span class="n">full_msg</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="nflgame.alert.gmail_login">
    <p>def <span class="ident">gmail_login</span>(</p><p>email, passwd)</p>
    </div>
    

    
  
    <div class="desc"><p>Logs into your GMail account with your full email address
(i.e., 'something@gmail.com') and password. gmail_login MUST be called
before using sms with the provider parameter. It only needs to be called
once per program execution.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.alert.gmail_login', this);">Show source &equiv;</a></p>
  <div id="source-nflgame.alert.gmail_login" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">gmail_login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs into your GMail account with your full email address</span>
<span class="sd">    (i.e., &#39;something@gmail.com&#39;) and password. gmail_login MUST be called</span>
<span class="sd">    before using sms with the provider parameter. It only needs to be called</span>
<span class="sd">    once per program execution.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">connect</span><span class="p">():</span>
        <span class="n">gmail</span> <span class="o">=</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s">&#39;smtp.gmail.com&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">587</span><span class="p">)</span>
        <span class="n">gmail</span><span class="o">.</span><span class="n">starttls</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">gmail</span>

    <span class="n">smtp_login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">,</span> <span class="n">connect</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="nflgame.alert.google_voice_login">
    <p>def <span class="ident">google_voice_login</span>(</p><p>email, passwd)</p>
    </div>
    

    
  
    <div class="desc"><p>Logs into your Google Voice account with your full email address
(i.e., 'something@gmail.com') and password. This MUST be called before
using send without the provider parameter.
login only needs to be called once per program execution.</p>
<p>Note that your Google Voice login information is probably the same as your
gmail login information. Please be careful with your login credentials!
(It is not a bad idea to setup an entirely separate Google Voice account
just for sending SMS.)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.alert.google_voice_login', this);">Show source &equiv;</a></p>
  <div id="source-nflgame.alert.google_voice_login" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">google_voice_login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs into your Google Voice account with your full email address</span>
<span class="sd">    (i.e., &#39;something@gmail.com&#39;) and password. This MUST be called before</span>
<span class="sd">    using send without the provider parameter.</span>
<span class="sd">    login only needs to be called once per program execution.</span>

<span class="sd">    Note that your Google Voice login information is probably the same as your</span>
<span class="sd">    gmail login information. Please be careful with your login credentials!</span>
<span class="sd">    (It is not a bad idea to setup an entirely separate Google Voice account</span>
<span class="sd">    just for sending SMS.)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_voice</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">_gv_available</span><span class="p">:</span>
        <span class="k">print</span> <span class="o">&gt;&gt;</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;The pygooglevoice Python package is required &quot;</span> \
                             <span class="s">&quot;in order to use Google Voice.&quot;</span>
        <span class="k">return</span>

    <span class="n">_voice</span> <span class="o">=</span> <span class="n">googlevoice</span><span class="o">.</span><span class="n">Voice</span><span class="p">()</span>
    <span class="n">_voice</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="nflgame.alert.sms">
    <p>def <span class="ident">sms</span>(</p><p>phone_number, msg, provider=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Sends an SMS message to phone_number (which should be a string) with
a message containing msg.</p>
<p>If you're using Google Voice to send SMS messages, google_voice_login
MUST be called before sms can be called. google_voice_login only needs to
be called once per program execution.</p>
<p>The provider parameter can be used to send SMS messages via email. It
is necessary because SMS messages are sent by sending a message to
an email like '111222333@vtext.com' or '1112223333@txt.att.net'. Thus,
each phone number must be paired with a provider.</p>
<p>A provider can be specified either as a carrier name (i.e., 'Verizon' or
'ATT'), or as simply the domain (i.e., 'vtext.com' or 'txt.att.net').
Supported providers are in the module level providers variable. Please
feel free to add to it and submit a pull request.</p>
<p>The provider parameter is not currently used, but is anticipated if this
module provides a way to send SMS messages via emails. A provider will be
required to look up the email domain. (i.e., for Verizon it's 'vtext.com'.)</p>
<p>Note that these are SMS messages, and each SMS message is limited to
160 characters. If msg is longer than that and you're using Google Voice,
it will be broken up into multiple SMS messages (hopefully). Otherwise,
if you're sending SMS messages via email, the behavior will vary
depending upon your carrier.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.alert.sms', this);">Show source &equiv;</a></p>
  <div id="source-nflgame.alert.sms" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">sms</span><span class="p">(</span><span class="n">phone_number</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">provider</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sends an SMS message to phone_number (which should be a string) with</span>
<span class="sd">    a message containing msg.</span>

<span class="sd">    If you&#39;re using Google Voice to send SMS messages, google_voice_login</span>
<span class="sd">    MUST be called before sms can be called. google_voice_login only needs to</span>
<span class="sd">    be called once per program execution.</span>

<span class="sd">    The provider parameter can be used to send SMS messages via email. It</span>
<span class="sd">    is necessary because SMS messages are sent by sending a message to</span>
<span class="sd">    an email like &#39;111222333@vtext.com&#39; or &#39;1112223333@txt.att.net&#39;. Thus,</span>
<span class="sd">    each phone number must be paired with a provider.</span>

<span class="sd">    A provider can be specified either as a carrier name (i.e., &#39;Verizon&#39; or</span>
<span class="sd">    &#39;ATT&#39;), or as simply the domain (i.e., &#39;vtext.com&#39; or &#39;txt.att.net&#39;).</span>
<span class="sd">    Supported providers are in the module level providers variable. Please</span>
<span class="sd">    feel free to add to it and submit a pull request.</span>

<span class="sd">    The provider parameter is not currently used, but is anticipated if this</span>
<span class="sd">    module provides a way to send SMS messages via emails. A provider will be</span>
<span class="sd">    required to look up the email domain. (i.e., for Verizon it&#39;s &#39;vtext.com&#39;.)</span>

<span class="sd">    Note that these are SMS messages, and each SMS message is limited to</span>
<span class="sd">    160 characters. If msg is longer than that and you&#39;re using Google Voice,</span>
<span class="sd">    it will be broken up into multiple SMS messages (hopefully). Otherwise,</span>
<span class="sd">    if you&#39;re sending SMS messages via email, the behavior will vary</span>
<span class="sd">    depending upon your carrier.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">provider</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">_voice</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">,</span> \
            <span class="s">&#39;You must login to Google Voice using google_voice_login before &#39;</span> \
            <span class="s">&#39;sending an sms without the provider parameter.&#39;</span>
    <span class="k">if</span> <span class="n">provider</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">_smtp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">,</span> \
            <span class="s">&#39;You must login to an SMTP server using gmail_login or by &#39;</span> \
            <span class="s">&#39;passing an smtplib.SMTP instance via the smtp parameter&#39;</span> \
            <span class="s">&#39;before sending an sms with the provider parameter.&#39;</span>

    <span class="k">if</span> <span class="n">provider</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">_google_voice_sms</span><span class="p">(</span><span class="n">phone_number</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">to</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">@</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">phone_number</span><span class="p">,</span> <span class="n">providers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">provider</span><span class="p">,</span> <span class="n">provider</span><span class="p">))</span>
        <span class="n">_send_email</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">to</span><span class="p">,</span> <span class="s">&#39;To: </span><span class="si">%s</span><span class="se">\r\n\r\n</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">to</span><span class="p">,</span> <span class="n">msg</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="nflgame.alert.smtp_login">
    <p>def <span class="ident">smtp_login</span>(</p><p>email, passwd, connectfun)</p>
    </div>
    

    
  
    <div class="desc"><p>Logs into an SMTP mail server. connectfun should be a function that
takes no parameters and returns an smtplib.SMTP instance that is ready
to be logged into. (See the source of gmail_login for an example.)</p>
<p>username and passwd are then used to log into that smtplib.SMTP instance.</p>
<p>connectfun may be called again automatically if the SMTP connection
is broken during program execution.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.alert.smtp_login', this);">Show source &equiv;</a></p>
  <div id="source-nflgame.alert.smtp_login" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">smtp_login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">,</span> <span class="n">connectfun</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Logs into an SMTP mail server. connectfun should be a function that</span>
<span class="sd">    takes no parameters and returns an smtplib.SMTP instance that is ready</span>
<span class="sd">    to be logged into. (See the source of gmail_login for an example.)</span>

<span class="sd">    username and passwd are then used to log into that smtplib.SMTP instance.</span>

<span class="sd">    connectfun may be called again automatically if the SMTP connection</span>
<span class="sd">    is broken during program execution.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">_email_from</span><span class="p">,</span> <span class="n">_smtp</span><span class="p">,</span> <span class="n">_smtp_connect</span>

    <span class="k">def</span> <span class="nf">connect</span><span class="p">():</span>
        <span class="n">smtp</span> <span class="o">=</span> <span class="n">connectfun</span><span class="p">()</span>
        <span class="n">smtp</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">passwd</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">smtp</span>

    <span class="n">_email_from</span> <span class="o">=</span> <span class="n">email</span>
    <span class="n">_smtp_connect</span> <span class="o">=</span> <span class="n">connect</span>
    <span class="n">_smtp</span> <span class="o">=</span> <span class="n">_smtp_connect</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  


  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.1</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
